<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Support - Social Supermarket</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'nature-green': '#22c55e',
                        'warm-orange': '#fb923c',
                        'soft-blue': '#60a5fa',
                        'earth-brown': '#a3a3a3'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gradient-to-br from-green-50 to-blue-50 min-h-screen">
<!-- Navigation -->
<nav class="bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-green-100">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
            <div class="flex items-center space-x-2">
                <div class="w-8 h-8 bg-gradient-to-br from-nature-green to-warm-orange rounded-full flex items-center justify-center">
                    <span class="text-white font-bold text-sm">üå±</span>
                </div>
                <span class="text-xl font-bold text-gray-800">Social Supermarket</span>
            </div>
            <div class="hidden md:flex items-center space-x-8">
                <!-- Display user email if available -->
                <div class="flex items-center space-x-2">
                    <span class="text-gray-600" th:if="${userEmail != null}" th:text="'Logged in as: ' + ${userEmail}"></span>
                    <a href="/logout" class="text-gray-600 hover:text-nature-green transition-colors">Logout</a>
                </div>
                <a href="landingpage.html" class="text-gray-600 hover:text-nature-green transition-colors">‚Üê Back to Home</a>
                <a href="#about" class="text-gray-600 hover:text-nature-green transition-colors">About</a>
                <a href="#how-it-works" class="text-gray-600 hover:text-nature-green transition-colors">How It Works</a>
                <a href="#community" class="text-gray-600 hover:text-nature-green transition-colors">Community</a>
            </div>
        </div>
    </div>
</nav>    <!-- Hero Section -->
<section class="relative overflow-hidden py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center space-y-8 mb-12">
            <div class="space-y-4">
                <h1 class="text-5xl lg:text-6xl font-bold text-gray-900 leading-tight">
                    Request
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-nature-green to-warm-orange">
                            Support
                        </span>
                </h1>
                <p class="text-xl text-gray-600 leading-relaxed max-w-2xl mx-auto">
                    Our community is here to support you. Apply for monthly grocery support and connect with caring community members.
                </p>
            </div>
        </div>

        <!-- Two Column Layout -->
        <div class="grid lg:grid-cols-3 gap-8">
            <!-- Request Forms -->
            <div class="lg:col-span-2 space-y-6">

                <!-- Form 1: Financial Support Request -->
                <div class="bg-white rounded-3xl shadow-xl overflow-hidden">
                    <button
                            type="button"
                            class="w-full px-8 py-6 flex items-center justify-between text-left hover:bg-gray-50 transition-colors"
                            onclick="toggleForm('financialForm')"
                    >
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-gradient-to-br from-nature-green to-green-600 rounded-full flex items-center justify-center">
                                <span class="text-white text-xl">üí∞</span>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-gray-900">Monthly Grocery Support</h3>
                                <p class="text-gray-600">Request up to ‚Ç¨100 for organic groceries</p>
                            </div>
                        </div>
                        <div class="text-nature-green text-2xl transform transition-transform" id="financialToggle">
                            +
                        </div>
                    </button>

                    <div id="financialForm" class="hidden px-8 pb-8">
                        <form class="space-y-6" id="supportRequestForm">
                            <!-- Person's Details -->
                            <div>
                                <div class="space-y-2">
                                    <label for="nomineeName" class="block text-sm font-semibold text-gray-700">
                                        Person's Name *
                                    </label>
                                    <input
                                            type="text"
                                            id="nomineeName"
                                            name="nomineeName"
                                            required
                                            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-nature-green focus:border-transparent transition-all placeholder-gray-400"
                                            placeholder="Enter name"
                                    >
                                </div>
                            </div>

                            <!-- Relationship -->
                            <div class="space-y-2">
                                <label for="relationship" class="block text-sm font-semibold text-gray-700">
                                    Your Relationship to This Person *
                                </label>
                                <select
                                        id="relationship"
                                        name="relationship"
                                        required
                                        class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-nature-green focus:border-transparent transition-all"
                                >
                                    <option value="">Select relationship</option>
                                    <option value="self">Self</option>
                                    <option value="family">Family member</option>
                                    <option value="friend">Friend</option>
                                    <option value="neighbor">Neighbor</option>
                                    <option value="colleague">Colleague</option>
                                    <option value="community-member">Community member</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>

                            <!-- Amount -->
                            <div class="space-y-2">
                                <label for="amount" class="block text-sm font-semibold text-gray-700">
                                    Requested Amount (‚Ç¨) *
                                </label>
                                <div class="relative">
                                    <input
                                            type="range"
                                            id="amount"
                                            name="amount"
                                            min="0"
                                            max="100"
                                            value="50"
                                            class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"
                                            oninput="updateAmountDisplay(this.value)"
                                    >
                                    <div class="flex justify-between text-sm text-gray-500 mt-1">
                                        <span>‚Ç¨0</span>
                                        <span>‚Ç¨100</span>
                                    </div>
                                </div>
                                <div class="text-center">
                                    <span class="text-2xl font-bold text-nature-green" id="amountDisplay">‚Ç¨50</span>
                                </div>
                            </div>

                            <!-- Month Selection -->
                            <div class="space-y-2">
                                <label for="month" class="block text-sm font-semibold text-gray-700">
                                    For which month? *
                                </label>
                                <select
                                        id="month"
                                        name="month"
                                        required
                                        class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-nature-green focus:border-transparent transition-all"
                                >
                                    <option value="">Select a month</option>
                                    <option value="2025-07">July 2025</option>
                                    <option value="2025-08">August 2025</option>
                                    <option value="2025-09">September 2025</option>
                                    <option value="2025-10">October 2025</option>
                                    <option value="2025-11">November 2025</option>
                                    <option value="2025-12">December 2025</option>
                                </select>
                            </div>

                            <!-- Additional Notes -->
                            <div class="space-y-2">
                                <label for="notes" class="block text-sm font-semibold text-gray-700">
                                    Additional Notes (Optional)
                                </label>
                                <textarea
                                        id="notes"
                                        name="notes"
                                        rows="3"
                                        class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-nature-green focus:border-transparent transition-all placeholder-gray-400"
                                        placeholder="Share any specific needs or circumstances..."
                                ></textarea>
                            </div>                            <button
                                type="submit"
                                class="w-full bg-gradient-to-r from-nature-green to-green-600 text-white px-8 py-4 rounded-full font-semibold hover:shadow-lg transform hover:-translate-y-1 transition-all"
                        >
                            üíæ Save Support Request
                        </button>
                        </form>
                    </div>                </div>

                <!-- Form 3: Community Help (Optional) -->
                <div class="bg-white rounded-3xl shadow-xl overflow-hidden">
                    <button
                            type="button"
                            class="w-full px-8 py-6 flex items-center justify-between text-left hover:bg-gray-50 transition-colors"
                            onclick="toggleForm('communityForm')"
                    >
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-gradient-to-br from-warm-orange to-orange-600 rounded-full flex items-center justify-center">
                                <span class="text-white text-xl">ü§ù</span>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-gray-900">Community Support</h3>
                                <p class="text-gray-600">Connect with community members for additional help (Optional)</p>
                            </div>
                        </div>
                        <div class="text-warm-orange text-2xl transform transition-transform" id="communityToggle">
                            +
                        </div>
                    </button>

                    <div id="communityForm" class="hidden px-8 pb-8">
                        <form class="space-y-6" id="communityHelpForm">
                            <!-- Help Topics -->
                            <div class="space-y-2">
                                <label class="block text-sm font-semibold text-gray-700">
                                    What kind of help would you like?
                                </label>
                                <div class="grid sm:grid-cols-2 gap-3">
                                    <label class="flex items-center space-x-3 p-3 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer">
                                        <input type="checkbox" name="helpTopics" value="financial-advice" class="text-nature-green focus:ring-nature-green border-gray-300 rounded">
                                        <span class="text-gray-700">üí° Financial advice</span>
                                    </label>
                                    <label class="flex items-center space-x-3 p-3 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer">
                                        <input type="checkbox" name="helpTopics" value="nutrition-tips" class="text-nature-green focus:ring-nature-green border-gray-300 rounded">
                                        <span class="text-gray-700">ü•ó Nutrition tips</span>
                                    </label>
                                    <label class="flex items-center space-x-3 p-3 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer">
                                        <input type="checkbox" name="helpTopics" value="coffee-chat" class="text-nature-green focus:ring-nature-green border-gray-300 rounded">
                                        <span class="text-gray-700">‚òï Drink a cup of coffee</span>
                                    </label>
                                    <label class="flex items-center space-x-3 p-3 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer">
                                        <input type="checkbox" name="helpTopics" value="walk-together" class="text-nature-green focus:ring-nature-green border-gray-300 rounded">
                                        <span class="text-gray-700">üö∂ Go out for a walk</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Suggested Date/Time -->
                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="space-y-2">
                                    <label for="suggestedDate" class="block text-sm font-semibold text-gray-700">
                                        Preferred Date
                                    </label>
                                    <input
                                            type="date"
                                            id="suggestedDate"
                                            name="suggestedDate"
                                            min="2025-06-08"
                                            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-nature-green focus:border-transparent transition-all"
                                    >
                                </div>
                                <div class="space-y-2">
                                    <label for="suggestedTime" class="block text-sm font-semibold text-gray-700">
                                        Preferred Time
                                    </label>
                                    <input
                                            type="time"
                                            id="suggestedTime"
                                            name="suggestedTime"
                                            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-nature-green focus:border-transparent transition-all"
                                    >
                                </div>
                            </div>

                            <!-- Additional Message -->
                            <div class="space-y-2">
                                <label for="helpMessage" class="block text-sm font-semibold text-gray-700">
                                    Message to the Community
                                </label>
                                <textarea
                                        id="helpMessage"
                                        name="helpMessage"
                                        rows="3"
                                        class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-nature-green focus:border-transparent transition-all placeholder-gray-400"
                                        placeholder="Tell the community a bit about yourself and what you're looking for..."
                                ></textarea>
                            </div>                            <button
                                type="submit"
                                class="w-full bg-gradient-to-r from-warm-orange to-orange-600 text-white px-8 py-4 rounded-full font-semibold hover:shadow-lg transform hover:-translate-y-1 transition-all"
                        >
                            üíæ Save Community Help
                        </button>
                        </form>
                    </div>
                </div>                </div>

            <!-- Summary Container -->
            <div class="lg:col-span-1">
                <div class="sticky top-24">
                    <div class="bg-white rounded-3xl shadow-xl p-6">
                        <div class="flex items-center space-x-3 mb-6">
                            <div class="w-10 h-10 bg-gradient-to-br from-nature-green to-warm-orange rounded-full flex items-center justify-center">
                                <span class="text-white text-lg">üìã</span>
                            </div>
                            <h3 class="text-xl font-bold text-gray-900">Request Summary</h3>
                        </div>                            <!-- Financial Support Summary -->
                        <div id="financialSummary" class="hidden mb-6">
                            <div class="bg-white rounded-xl p-4 border border-green-200">
                                <h4 class="font-semibold text-gray-900 mb-3 flex items-center">
                                    <span class="text-nature-green mr-2">üí∞</span>
                                    Monthly Grocery Support
                                </h4>
                                <div class="space-y-2 text-sm">
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Amount:</span>
                                        <span class="font-semibold text-nature-green" id="summaryAmount">‚Ç¨50</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Month:</span>
                                        <span class="font-semibold" id="summaryMonth">-</span>
                                    </div>
                                    <div id="summaryNotesContainer" class="hidden">
                                        <div class="text-gray-600 mb-1">Notes:</div>
                                        <div class="text-xs text-gray-700 bg-gray-50 p-2 rounded" id="summaryNotes"></div>
                                    </div>
                                </div>
                            </div>
                        </div>                            <!-- Community Help Summary -->
                        <div id="communitySummary" class="hidden mb-6">
                            <div class="bg-white rounded-xl p-4 border border-orange-200">
                                <h4 class="font-semibold text-gray-900 mb-3 flex items-center">
                                    <span class="text-warm-orange mr-2">ü§ù</span>
                                    Community Support
                                </h4>
                                <div class="space-y-2 text-sm">
                                    <div id="summaryTopicsContainer" class="hidden">
                                        <div class="text-gray-600 mb-1">Help Topics:</div>
                                        <div class="flex flex-wrap gap-1" id="summaryTopics"></div>
                                    </div>
                                    <div id="summaryDateTimeContainer" class="hidden">
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">Preferred:</span>
                                            <span class="font-semibold" id="summaryDateTime">-</span>
                                        </div>
                                    </div>
                                    <div id="summaryHelpMessageContainer" class="hidden">
                                        <div class="text-gray-600 mb-1">Message:</div>
                                        <div class="text-xs text-gray-700 bg-gray-50 p-2 rounded" id="summaryHelpMessage"></div>
                                    </div>
                                </div>
                            </div>
                        </div>                            <!-- Nomination Summary -->
                        <div id="nominationSummary" class="hidden mb-6">
                            <div class="bg-white rounded-xl p-4 border border-blue-200">
                                <h4 class="font-semibold text-gray-900 mb-3 flex items-center">
                                    <span class="text-soft-blue mr-2">‚ù§Ô∏è</span>
                                    Nomination
                                </h4>
                                <div class="space-y-2 text-sm">
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Person:</span>
                                        <span class="font-semibold" id="summaryNomineeName">-</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Relationship:</span>
                                        <span class="font-semibold" id="summaryRelationship">-</span>
                                    </div>
                                    <div id="summaryNomineeEmailContainer" class="hidden">
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">Email:</span>
                                            <span class="font-semibold text-xs" id="summaryNomineeEmail">-</span>
                                        </div>
                                    </div>
                                    <div id="summaryReasonContainer" class="hidden">
                                        <div class="text-gray-600 mb-1">Reason:</div>
                                        <div class="text-xs text-gray-700 bg-gray-50 p-2 rounded" id="summaryReason"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Empty State -->
                        <div id="emptySummary" class="text-center py-8">
                            <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <span class="text-gray-400 text-2xl">üìù</span>
                            </div>
                            <p class="text-gray-500">Fill out the forms above to see your request summary here</p>
                        </div>

                        <!-- Finalize Button -->
                        <div id="finalizeSection" class="hidden">
                            <div class="border-t border-gray-200 pt-6">                                    <button
                                    id="finalizeButton"
                                    class="w-full bg-nature-green text-white px-6 py-4 rounded-full font-semibold hover:shadow-lg transform hover:-translate-y-1 transition-all text-lg hover:bg-green-600"
                            >
                                ‚ú® Finalize Request
                            </button>
                                <p class="text-xs text-gray-500 text-center mt-2">
                                    Review your information and submit your complete request
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Trust Message -->
        <div class="max-w-7xl mx-auto mt-12">
            <div class="bg-gradient-to-br from-nature-green/10 to-warm-orange/10 rounded-xl p-8 border border-green-200 text-center">
                <div class="space-y-4">
                    <div class="w-16 h-16 bg-gradient-to-br from-nature-green to-warm-orange rounded-full flex items-center justify-center mx-auto">
                        <span class="text-white text-2xl">üå±</span>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900">Built on Trust</h3>
                    <p class="text-gray-600 max-w-xl mx-auto">
                        Our community operates on trust and mutual respect. All requests are reviewed with care,
                        and we're here to support each other through both challenging and joyful times.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="bg-gray-900 text-white py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid md:grid-cols-4 gap-8">
            <div class="space-y-4">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-gradient-to-br from-nature-green to-warm-orange rounded-full flex items-center justify-center">
                        <span class="text-white font-bold text-sm">üå±</span>
                    </div>
                    <span class="text-xl font-bold">Social Supermarket</span>
                </div>
                <p class="text-gray-400">
                    Building a sustainable future through community care and healthy food access.
                </p>
            </div>

            <div class="space-y-4">
                <h4 class="font-semibold">Community</h4>
                <div class="space-y-2 text-gray-400">
                    <div>Become a Member</div>
                    <div>Support Others</div>
                    <div>Local Farmers</div>
                    <div>Success Stories</div>
                </div>
            </div>

            <div class="space-y-4">
                <h4 class="font-semibold">Support</h4>
                <div class="space-y-2 text-gray-400">
                    <div>How It Works</div>
                    <div>Request Guidelines</div>
                    <div>Donation Info</div>
                    <div>Contact Us</div>
                </div>
            </div>

            <div class="space-y-4">
                <h4 class="font-semibold">Connect</h4>
                <div class="space-y-2 text-gray-400">
                    <div>Newsletter</div>
                    <div>Community Events</div>
                    <div>Social Media</div>
                    <div>Local Partnerships</div>
                </div>
            </div>
        </div>

        <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
            <p>&copy; 2025 Social Supermarket. Built with care for our community.</p>
        </div>
    </div>
</footer>    <script>
    // Global state to track saved forms
    let savedForms = {
        financial: false,
        community: false,
        nomination: false
    };

    // Toggle collapsible forms
    function toggleForm(formId) {
        const form = document.getElementById(formId);
        const toggle = document.getElementById(formId.replace('Form', 'Toggle'));

        if (form.classList.contains('hidden')) {
            form.classList.remove('hidden');
            toggle.textContent = '‚àí';
            toggle.style.transform = 'rotate(0deg)';
        } else {
            form.classList.add('hidden');
            toggle.textContent = '+';
            toggle.style.transform = 'rotate(0deg)';
        }
    }

    // Update amount display
    function updateAmountDisplay(value) {
        document.getElementById('amountDisplay').textContent = `‚Ç¨${value}`;
        document.getElementById('summaryAmount').textContent = `‚Ç¨${value}`;
        updateSummaryVisibility();
    }

    // Update summary visibility and finalize button
    function updateSummaryVisibility() {
        const hasAnySaved = Object.values(savedForms).some(saved => saved);

        if (hasAnySaved) {
            document.getElementById('emptySummary').classList.add('hidden');
            document.getElementById('finalizeSection').classList.remove('hidden');
        } else {
            document.getElementById('emptySummary').classList.remove('hidden');
            document.getElementById('finalizeSection').classList.add('hidden');
        }
    }

    // Update financial summary
    function updateFinancialSummary() {
        const amount = document.getElementById('amount').value;
        const month = document.getElementById('month').value;
        const notes = document.getElementById('notes').value.trim();

        document.getElementById('summaryAmount').textContent = `‚Ç¨${amount}`;

        if (month) {
            const monthText = document.querySelector(`#month option[value="${month}"]`).textContent;
            document.getElementById('summaryMonth').textContent = monthText;
        }

        if (notes) {
            document.getElementById('summaryNotes').textContent = notes;
            document.getElementById('summaryNotesContainer').classList.remove('hidden');
        } else {
            document.getElementById('summaryNotesContainer').classList.add('hidden');
        }

        if (savedForms.financial) {
            document.getElementById('financialSummary').classList.remove('hidden');
        }
    }

    // Update community summary
    function updateCommunitySummary() {
        const checkedTopics = document.querySelectorAll('input[name="helpTopics"]:checked');
        const date = document.getElementById('suggestedDate').value;
        const time = document.getElementById('suggestedTime').value;
        const message = document.getElementById('helpMessage').value.trim();

        // Update topics
        if (checkedTopics.length > 0) {
            const topicsContainer = document.getElementById('summaryTopics');
            topicsContainer.innerHTML = '';
            checkedTopics.forEach(cb => {
                const label = cb.parentElement.querySelector('span').textContent;
                const badge = document.createElement('span');
                badge.className = 'inline-block bg-warm-orange/20 text-warm-orange px-2 py-1 rounded-full text-xs';
                badge.textContent = label;
                topicsContainer.appendChild(badge);
            });
            document.getElementById('summaryTopicsContainer').classList.remove('hidden');
        } else {
            document.getElementById('summaryTopicsContainer').classList.add('hidden');
        }

        // Update date/time
        if (date || time) {
            let dateTimeText = '';
            if (date) dateTimeText += new Date(date).toLocaleDateString();
            if (time) dateTimeText += (dateTimeText ? ' at ' : '') + time;
            document.getElementById('summaryDateTime').textContent = dateTimeText || '-';
            document.getElementById('summaryDateTimeContainer').classList.remove('hidden');
        } else {
            document.getElementById('summaryDateTimeContainer').classList.add('hidden');
        }

        // Update message
        if (message) {
            document.getElementById('summaryHelpMessage').textContent = message;
            document.getElementById('summaryHelpMessageContainer').classList.remove('hidden');
        } else {
            document.getElementById('summaryHelpMessageContainer').classList.add('hidden');
        }

        if (savedForms.community) {
            document.getElementById('communitySummary').classList.remove('hidden');
        }
    }

    // Update nomination summary
    function updateNominationSummary() {
        const name = document.getElementById('nomineeName').value.trim();
        const email = document.getElementById('nomineeEmail').value.trim();
        const relationship = document.getElementById('relationship').value;
        const reason = document.getElementById('nominationReason').value.trim();

        if (name) document.getElementById('summaryNomineeName').textContent = name;

        if (relationship) {
            const relationshipText = document.querySelector(`#relationship option[value="${relationship}"]`).textContent;
            document.getElementById('summaryRelationship').textContent = relationshipText;
        }

        if (email) {
            document.getElementById('summaryNomineeEmail').textContent = email;
            document.getElementById('summaryNomineeEmailContainer').classList.remove('hidden');
        } else {
            document.getElementById('summaryNomineeEmailContainer').classList.add('hidden');
        }

        if (reason) {
            document.getElementById('summaryReason').textContent = reason;
            document.getElementById('summaryReasonContainer').classList.remove('hidden');
        } else {
            document.getElementById('summaryReasonContainer').classList.add('hidden');
        }

        if (savedForms.nomination) {
            document.getElementById('nominationSummary').classList.remove('hidden');
        }
    }

    // Style the range slider
    const style = document.createElement('style');
    style.textContent = `
            .slider::-webkit-slider-thumb {
                appearance: none;
                height: 24px;
                width: 24px;
                border-radius: 50%;
                background: #22c55e;
                cursor: pointer;
                box-shadow: 0 2px 6px rgba(34, 197, 94, 0.3);
            }
            .slider::-moz-range-thumb {
                height: 24px;
                width: 24px;
                border-radius: 50%;
                background: #22c55e;
                cursor: pointer;
                border: none;
                box-shadow: 0 2px 6px rgba(34, 197, 94, 0.3);
            }
        `;
    document.head.appendChild(style);        // Form submission handlers
    document.getElementById('supportRequestForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const amount = document.getElementById('amount').value;
        const month = document.getElementById('month').value;
        const name = document.getElementById('nomineeName').value;
        const relationship = document.getElementById('relationship').value;

        if (!month || !name || !relationship) {
            alert('Please fill in all required fields.');
            return;
        }

        savedForms.financial = true;
        savedForms.nomination = true; // Since we combined the forms
        updateFinancialSummary();
        updateNominationSummary();
        updateSummaryVisibility();

        // Show success message
        const successMsg = document.createElement('div');
        successMsg.className = 'fixed top-4 right-4 bg-nature-green text-white px-6 py-3 rounded-lg shadow-lg z-50';
        successMsg.innerHTML = '‚úÖ Support request saved!';
        document.body.appendChild(successMsg);
        setTimeout(() => successMsg.remove(), 3000);
    });

    document.getElementById('communityHelpForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const checkedTopics = document.querySelectorAll('input[name="helpTopics"]:checked');

        if (checkedTopics.length === 0) {
            alert('Please select at least one type of help you\'d like.');
            return;
        }

        savedForms.community = true;
        updateCommunitySummary();
        updateSummaryVisibility();

        // Show success message
        const successMsg = document.createElement('div');
        successMsg.className = 'fixed top-4 right-4 bg-warm-orange text-white px-6 py-3 rounded-lg shadow-lg z-50';
        successMsg.innerHTML = '‚úÖ Community help request saved!';
        document.body.appendChild(successMsg);
        setTimeout(() => successMsg.remove(), 3000);
    });        // Nomination form has been combined with support request form        // Finalize button handler
    document.getElementById('finalizeButton').addEventListener('click', function() {
        const savedCount = Object.values(savedForms).filter(saved => saved).length;
        let message = `üå± Request Finalized!\n\nYou have submitted:\n`;

        if (savedForms.financial) message += `‚úÖ Monthly grocery support request\n`;
        if (savedForms.community) message += `‚úÖ Community help request\n`;

        message += `\nThank you for being part of our caring community! You'll receive updates within 48 hours.`;

        alert(message);

        // In a real app, this would submit to the backend
        console.log('Final submission:', savedForms);
    });        // Real-time updates for form fields
    document.addEventListener('input', function(e) {
        if (e.target.closest('#supportRequestForm')) {
            updateFinancialSummary();
            updateNominationSummary(); // Update nomination summary for the combined form
        } else if (e.target.closest('#communityHelpForm')) {
            updateCommunitySummary();
        }
    });

    // Initialize amount display
    updateAmountDisplay(50);
</script>
</body>
</html>
